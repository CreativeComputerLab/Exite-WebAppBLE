<project name="microbitTestProjectBLE2" app="Snap! 6, https://snap.berkeley.edu" version="1"><notes></notes><thumbnail>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAB4CAYAAAB1ovlvAAAAAXNSR0IArs4c6QAAB5NJREFUeF7tnW1MlXUYxq8DHATm5Cgqvh4SAeFssowmL7ElIzXI5MUpWsuRQjJA5upb9bW+6Sx12ixn60PO0aJVNkXnQbCJLxOyREtDFHnTAWKAyFs7R0MZFiyfw/38/158Udhz/td9/67ffGCec7AMDg4Ogh8kIETAQgGFyDPWTYACUgRRAhRQFD/DKSAdECVAAUXxM5wC0gFRAhRQFD/DKSAdECVAAUXxM5wC0gFRAhRQFD/DKSAdECVAAUXxM5wC0gFRAhRQFD/DKSAdECVAAUXxM5wC0gFRAhRQFD/DKSAdECVAAUXxM5wC0gFRAhRQFD/DKaBmDmzbvgv5eRvh5+enxGYUUImaxj6k8/RVJH08CTN6y5G3PhXzBo9g/dqVYz9gnK+kgOMMfDziDh5vRNauwEdRfXcRHVCBzFcXIzm0DomJieMxxpgyKOCYMKl30ZSV5WjzjRkxuFdLKYrSp2NT6mRERkaKL0YBxSswfoCk3G/gbEt5cHBnLbLi+hE1swcbUmdi7pw5xgc+xYkU8CngmfGhhR/uRcW1YGQsW4SlYfVISIg345hDM1FAU9ej/3AUUP+OTb0hBTR1PfoPRwH179jUG1JAU9ej/3AUUP+OTb0hBTR1PfoPRwH179jUG1JAU9ej/3CmFvDevXuoqqpCW1sbXL9NwmKx/O8/XU9PGstTlP6624G+/gH3taGhoQgJCdHfAsENTS3g8ePHMXv2bEPw3K4sge3kdvh4Wf7zPF+rFf7vV+LOnTtob29HcHAwJTSkgScfYloB6+vr3QL883Hq1CnExcWN2GL37t3YsmULenp6nrjh/v37kZ2dDf8LxQiu2jd0zYQ12zB49xa87YvQ/dmaYY/teu8sWlpa3F/z9fVFRESEByt4to82rYDHjh2DzWYbaqekpAReXl6YOnUqbt265b4dd3d3o6+vDwUFBdi6dSt6e3sRHR3tvu7AgQOIjY1FQEAA0tLSYPv9+2EC+iYXob+xBr5L8tFbvhd9Fw4NZd3dUomGhgb35/fv30d8vLn/Q19lhU0rYF1d3ZAELsCtra1u2QIDA923R9ffBwYGMHHiRJw+fdr93DbX7bq6uhoxMTFoampyf79otVoRFBSE6dcODxPQ27EU/RdLYY19E/3Xz2Og8eJQj+2bf8aNGzfcn7vOX7hwocodm3p20wroolZcXIxp06YZAnBm80nMOrdn9LO8rWjI/gmNjY1u0R0OB8LCwkZ/nOJXbPt0B/LfyR3TD2pGrmpqATs7O1FaWorr168/9c7e3t6w2+2jntPV1YXm5mb3v3yuW29UVNSoj9HhAmdVDZK+rcWMlovIW5uOeS0XsH51hsdXM7WAHt+eAcMIHDxzGVlHbj76Wk8XojuvIjM5EcmTuj3yWhIKSAmHEZjy7l60Bc0fQcXryhkUvezAprhwQ19LQgEp4BCBpA92wRnw8FuO1gZkLZiCqEk+2JDo8NhrSSggBXQTKPxoOyru+CBjSTyW2nqQkJAwLmQo4LhgZsi/EaCAdEOUAAUUxc9wCkgHRAlQQFH8DKeAdECUAAUUxc9wCkgHRAlQQFH8DKeAdECUAAUUxc9wCkgHRAlQQFH8DKeAdECUAAUUxc9wCkgHRAlQQFH8DKeAdECUAAUUxc9wCkgHRAlQQFH8DKeAdECUAAUUxc9wCkgHRAlQQFH8DFdawE8Kd8K73B/xmbHoTm73yJvnUBHPElBaQBeaXUlfwOF88IuZG1CPyWsC4OOwYEE232Dcs+oYc7ryArowfD7lAOa3jfzt35WoQOTmUDgKw/g+z8b4Yvgpygt4+eCfaMjqGALThU7ULrqE+LRY9Kd0YfHixYZD44HGEVBawBrnZdQmtaJmRjXS817HhdCzSH8rzTg6PMnjBJQWcMe2ncjNzxn39zX2eCvPUIDSAj5DPWm7KgXUtlo1FqOAavSk7ZQUUNtq1ViMAqrRk7ZTUkBtq1VjMQqoRk/aTkkBta1WjcUooBo9aTslBdS2WjUWo4Bq9KTtlBRQ22rVWIwCqtGTtlNSQG2rVWMxCqhGT9pOSQG1rVaNxSigGj1pOyUF1LZaNRajgGr0pO2UFFDbatVYzFABy5y/YNZsf4SHh6uxPacUJ2CogK5tFjq+Q03NFeTkvgD7c03Iz0+BzWYTX5QDmJOA4QJWV1cj5vlSWPDonQomBZ5HQeEqzA35Dbm5q81JglOJEDBcQNcWORu/wpf7Jo9YaBC3kZY+AWuy/JC1NkNkYYaai4DhAh4tvYmUZecfbtmLsIg/sG7dK4iNv43ly5eZa3tOI07AUAHLnGewKvNrFBTkYK79EnJyM8UX5ADmJmCogNKr7jlfg+bOLrxtnwa73S49DvPHQEArATs6OhB57gYa7RGwVJSiIOFFhPxaicKUpXz/mDHIIHGJVgK6AJaVlWFJtw0IdwzjOd35A/LTV2DeiR+xPiNdgjUzn0DgmRFwxolDyFuZivCTh/HGyhWUwSQEtBLw8VuwV8VRFLz04BZc9NpyWK1WkyDnGI8T0EpA/hCintxaCagefk5MAemAKAEKKIqf4RSQDogSoICi+BlOAemAKAEKKIqf4X8D49aKxih0zYsAAAAASUVORK5CYII=</thumbnail><stage name="Stage" width="480" height="360" costume="0" color="255,255,255,1" tempo="60" threadsafe="false" penlog="false" volume="100" pan="0" lines="round" ternary="false" hyperops="true" codify="false" inheritance="true" sublistIDs="false" scheduled="false" id="1"><pentrails>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAFoCAYAAACPNyggAAAAAXNSR0IArs4c6QAADoVJREFUeF7t1cEJAAAIxDDdf2m3sJ+4wEEQuuMIECBAgACBd4F9XzRIgAABAgQIjAB7AgIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECByxcQFpoRMBzwAAAABJRU5ErkJggg==</pentrails><costumes><list struct="atomic" id="2"></list></costumes><sounds><list struct="atomic" id="3"></list></sounds><variables></variables><blocks></blocks><scripts></scripts><sprites><sprite name="Sprite" idx="1" x="-69" y="-53" heading="90" scale="1" volume="100" pan="0" rotation="1" draggable="true" costume="0" color="190.02599999999998,0,206.55,1" pen="tip" id="8"><costumes><list struct="atomic" id="9"></list></costumes><sounds><list struct="atomic" id="10"></list></sounds><blocks></blocks><variables></variables><scripts><script x="30" y="30"><block s="doForever"><script><block s="bubble"><custom-block s="read analog pin %s"><l>1</l></custom-block></block></script></block></script><script x="356.67610677083326" y="200.8333333333334"><custom-block s="read analog pin %s"><l>1</l></custom-block></script><script x="195" y="455.5000000000001"><block s="doRun"><block s="reportJSFunction"><list></list><l>window.snapMicrobit = undefined;</l></block><list></list></block></script><script x="76" y="641.1666666666667"><custom-block s="set digital pin %s to %s"><l>1</l><l>1</l></custom-block></script><script x="257.12109375" y="115.83333333333334"><custom-block s="read digital pin %txt"><l>1</l></custom-block></script><script x="60" y="349.66666666666663"><custom-block s="read analog pin %s"><l>1</l></custom-block></script><script x="386" y="322.83333333333337"><custom-block s="set digital pin %s to %s"><l>0</l><l>1</l></custom-block></script><script x="28" y="145.83333333333334"><custom-block s="microbitSnapSetup"></custom-block></script><script x="681" y="354.16666666666674"><custom-block s="set analog pulse pin %s to %n Âµs"><l>0</l><l>0</l></custom-block></script><script x="103" y="243.83333333333334"><custom-block s="set analog pin %s to %n %"><l>0</l><l>1</l></custom-block></script><script x="537" y="44"><block s="doForever"><script><block s="doSetVar"><l>turnLevel</l><custom-block s="read %txt sensor on analog pin %s"><l>Rotary (%)</l><l>1</l></custom-block></block><block s="bubble"><block var="turnLevel"/></block><custom-block s="set analog pin %s to %n %"><l>0</l><block var="turnLevel"/></custom-block></script></block></script><script x="642.12109375" y="268.83333333333337"><custom-block s="read %txt sensor on analog pin %s"><l>Rotary (%)</l><l>1</l></custom-block></script><script x="336.12109375" y="161.83333333333334"><custom-block s="read analog pin %s"><l>1</l></custom-block></script><script x="464.67610677083337" y="233.66666666666666"><custom-block s="read %txt sensor on analog pin %s"><l>Rotary (%)</l><l>1</l></custom-block></script></scripts></sprite><sprite name="Sprite(2)" idx="2" x="180" y="38" heading="90" scale="1" volume="100" pan="0" rotation="1" draggable="true" costume="0" color="0,132.08999999999995,188.7,1" pen="tip" id="70"><costumes><list struct="atomic" id="71"></list></costumes><sounds><list struct="atomic" id="72"></list></sounds><blocks></blocks><variables></variables><scripts><script x="712" y="70.66666666666666"><block s="doForever"><script><block s="bubble"><custom-block s="micro:bit %txt"><l>Tilt Left</l></custom-block></block></script></block></script><script x="366" y="71.66666666666666"><block s="doForever"><script><block s="bubble"><custom-block s="micro:bit Accelerometer (m/sÂ²) %txt"><l>X</l></custom-block></block></script></block></script><script x="35.99934895833326" y="86.00000000000003"><custom-block s="read %s pulse on pin %s Âµs"><l>high</l><l>0</l></custom-block></script><script x="493" y="265.66666666666663"><block s="doForever"><script><block s="bubble"><custom-block s="read Distance (cm) sensor on pin %s set trigger on pin %s"><l>8</l><l>7</l></custom-block></block></script></block></script><script x="99.00065104166674" y="271.16666666666674"><custom-block s="read analog period on pin %s Âµs"><l>0</l></custom-block></script><script x="635" y="357.83333333333337"><custom-block s="read %s pulse on pin %s Âµs"><l>high</l><l>0</l></custom-block></script><script x="20" y="10.000000000000028"><custom-block s="microbitSnapSetup"></custom-block></script></scripts></sprite><sprite name="Sprite(3)" idx="3" x="-152" y="-133" heading="90" scale="1" volume="100" pan="0" rotation="1" draggable="true" costume="0" color="3.5700000000000824,0,178.5,1" pen="tip" id="107"><costumes><list struct="atomic" id="108"></list></costumes><sounds><list struct="atomic" id="109"></list></sounds><blocks></blocks><variables></variables><scripts><script x="191" y="28.333333333333343"><custom-block s="microbitSnapSetup"></custom-block></script><script x="470" y="30"><block s="doForever"><script><custom-block s="Position Servo pin %n %n Â°"><l>3</l><custom-block s="read %txt sensor on analog pin %s"><l>Rotary (%)</l><l>1</l></custom-block></custom-block></script></block></script><script x="10" y="557.8333333333334"><custom-block s="read %s sensor on digital pin %s"><l>Light</l><l>0</l></custom-block></script><script x="150" y="168.33333333333323"><block s="doForever"><script><custom-block s="Rotation Servo pin %n %n %"><l>10</l><l>0</l></custom-block></script></block></script></scripts></sprite><sprite name="Sprite(4)" idx="4" x="-57" y="-150" heading="90" scale="1" volume="100" pan="0" rotation="1" draggable="true" costume="0" color="0,219.91199999999995,249.9,1" pen="tip" id="132"><costumes><list struct="atomic" id="133"></list></costumes><sounds><list struct="atomic" id="134"></list></sounds><blocks></blocks><variables></variables><scripts><script x="30" y="30"><block s="receiveGo"></block><block s="show"></block><block s="doForever"><script><block s="doIfElse"><block s="reportGreaterThan"><block var="turnLevel"/><l>49</l></block><script><block s="doSetVar"><l>rotationSpeed</l><block s="reportProduct"><block s="reportDifference"><block var="turnLevel"/><l>50</l></block><l>2</l></block><comment w="92" collapsed="false">50 - 100%&#xD;Range: 0 - &gt; 100%.</comment></block></script><script><block s="doSetVar"><l>rotationSpeed</l><block s="reportDifference"><block s="reportProduct"><block var="turnLevel"/><l>2</l></block><l>100</l></block><comment w="90" collapsed="false">0 - 49%&#xD;Range:  -100 -&gt; 0%</comment></block></script></block><custom-block s="Rotation Servo pin %n %n %"><l>2</l><block var="rotationSpeed"/></custom-block><block s="bubble"><block s="reportJoinWords"><list><l>servo pin 10 = </l><block s="reportRound"><block var="rotationSpeed"/></block></list></block></block></script></block></script><comment x="195" y="37.66666666666657" w="270" collapsed="false">Note:  The servo requires an external power supply connected to the key studio breakout board.</comment><script x="553" y="41.999999999999886"><block s="receiveKey"><l><option>h</option></l></block><block s="hide"></block></script><script x="601" y="169.8333333333335"><custom-block s="stop all"></custom-block></script><script x="182.8203125" y="427.5"><block var="dial-level-percent"/></script><script x="454.8203125" y="467.16666666666663"><block var="dial-level-percent"/></script><script x="622.623046875" y="410.66666666666663"><block var="rotationSpeed"/></script><script x="374" y="306.83333333333337"><block s="doForever"><script></script></block></script><script x="644" y="245.66666666666677"><custom-block s="Rotation Servo pin %n %n %"><l>2</l><l>0</l></custom-block></script></scripts></sprite><watcher var="pulseWidthus" style="normal" x="15" y="39.000001999999995" color="243,118,29" hidden="true"/><watcher var="delay" style="normal" x="106" y="272.000002" color="243,118,29" hidden="true"/><watcher var="servoAngleDegrees" style="normal" x="114" y="204.00000199999997" color="243,118,29" hidden="true"/><watcher var="turnLevel" style="normal" x="116" y="116.99999999999997" color="243,118,29"/><watcher var="rotationSpeed" style="normal" x="10" y="10" color="243,118,29" hidden="true"/><watcher var="distance" style="normal" x="10" y="31.000002000000002" color="243,118,29" hidden="true"/><sprite name="Sprite(5)" idx="5" x="138" y="98" heading="90" scale="1" volume="100" pan="0" rotation="1" draggable="true" costume="0" color="0,83.23199999999996,244.79999999999998,1" pen="tip" id="197"><costumes><list struct="atomic" id="198"></list></costumes><sounds><list struct="atomic" id="199"></list></sounds><blocks></blocks><variables></variables><scripts><script x="20" y="123.33333333333334"><custom-block s="microbitSnapSetup"></custom-block></script><script x="20" y="10"><block s="doRun"><block s="reportJSFunction"><list></list><l>window.snapMicrobit = undefined;</l></block><list></list></block></script><script x="433" y="75.3333333333334"><custom-block s="micro:bit Display %br %b %b %b %b %b %br %b %b %b %b %b %br %b %b %b %b %b %br %b %b %b %b %b %br %b %b %b %b %b"><l><bool>true</bool></l><l><bool>true</bool></l><l><bool>false</bool></l><l><bool>true</bool></l><l><bool>true</bool></l><l><bool>true</bool></l><l><bool>true</bool></l><l><bool>false</bool></l><l><bool>false</bool></l><l><bool>true</bool></l><l><bool>true</bool></l><l><bool>false</bool></l><l><bool>true</bool></l><l><bool>true</bool></l><l><bool>true</bool></l><l><bool>true</bool></l><l><bool>false</bool></l><l><bool>true</bool></l><l><bool>true</bool></l><l><bool>true</bool></l><l><bool>false</bool></l><l><bool>true</bool></l><l><bool>true</bool></l><l><bool>true</bool></l><l><bool>true</bool></l></custom-block></script><script x="195" y="227.50000000000003"><custom-block s="micro:bit display %s"><l>enable</l></custom-block></script></scripts></sprite></sprites></stage><hidden></hidden><headers></headers><code></code><blocks><block-definition s="set digital pin %&apos;pin_num&apos; to %&apos;level&apos;" type="command" category="sensing"><header></header><code></code><translations></translations><inputs><input type="%s" readonly="true">0<options>0&#xD;1&#xD;2&#xD;3&#xD;4&#xD;5&#xD;6&#xD;7&#xD;8&#xD;9&#xD;10&#xD;11&#xD;13&#xD;14&#xD;15&#xD;16</options></input><input type="%s" readonly="true">0<options>0&#xD;1</options></input></inputs><script><custom-block s="microbitSnapSetup"></custom-block><block s="doRun"><block s="reportJSFunction"><list><l>pin_num</l><l>level</l></list><l>              var thisCommand = {&#xD;                robot: &apos;A&apos;,&#xD;                pin: pin_num,&#xD;                value: level,&#xD;                isDigital: 1,&#xD;                isInput: 0,&#xD;                isServo: 0,&#xD;                isServoPulse: 0,&#xD;                isAnalogPeriod: 0,&#xD;                isDigitalPulse: 0,&#xD;                digitalPulseLevel: 0&#xD;              }&#xD;&#xD;              window.snapMicrobit.sendCommand(thisCommand);</l></block><list><block var="pin_num"/><block var="level"/></list></block></script><scripts><script x="894" y="100.83333333333331"><block s="doReport"><block s="reportURL"><block s="reportJoinWords"><list><l>http://127.0.0.1:30063/microbit/out/dwritepin/</l><block var="pin_num"/><l>/</l><block var="level"/></list></block></block></block></script></scripts></block-definition><block-definition s="read digital pin %&apos;pin_num&apos;" type="reporter" category="sensing"><header></header><code></code><translations></translations><inputs><input type="%txt" readonly="true">0<options>0&#xD;1&#xD;2&#xD;3&#xD;4&#xD;5&#xD;6&#xD;7&#xD;8&#xD;9&#xD;10&#xD;11&#xD;13&#xD;14&#xD;15&#xD;16</options></input></inputs><script><custom-block s="microbitSnapSetup"></custom-block><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>pin</l></list><l>&#xD;                  if (window.snapMicrobit.digitalReadPinBlock === undefined) {&#xD;                    window.snapMicrobit.digitalReadPinBlock = function (pin) {&#xD;                      let robot = "A";&#xD;                      var isDigital, isInput, isServo, isServoPulse, isAnalogPeriod, isDigitalPulse, digitalPulseLevel;&#xD;                      isDigital = isInput = isServo = isServoPulse = isAnalogPeriod = isDigitalPulse = digitalPulseLevel= 0; &#xD;&#xD;                      // Set Pin Config Here:&#xD;                      // Analog Pin, is an output:&#xD;                      isInput = 1;  // a pin read is an input pin  i.e input voltage to the micro:bit&#xD;                      isDigital = 1;&#xD;&#xD;                      // Check for first read here&#xD;                      if (window.snapMicrobit.isFirstRead(robot, pin, isDigital, isInput, isAnalogPeriod, isDigitalPulse, digitalPulseLevel))&#xD;                      {&#xD;                          //isDigital=0 and isOutput=1 means this is an analog read pin.&#xD;                          var thisCommand = {&#xD;                            robot: robot,&#xD;                            pin: pin,&#xD;                            value: 0, // No value necessary, setting pin state&#xD;                            isDigital: isDigital,&#xD;                            isInput: isInput,&#xD;                            isServo: 0,&#xD;                            isServoPulse: 0,&#xD;                            isAnalogPeriod: 0,&#xD;                            isDigitalPulse: 0,&#xD;                            digitalPulseLevel: 0&#xD;                          }&#xD;                            window.snapMicrobit.sendCommand(thisCommand);&#xD;                            return -1;&#xD;                      }&#xD;                      else {&#xD;                        var pinVal = window.snapMicrobit.pinToInt(robot, pin);&#xD;                        //return window.snapMicrobit.notificationData[robot][pin] &amp; 0xFFFF&#xD;                        return pinVal &amp; 0xFFFF&#xD;                      }&#xD;                    }&#xD;                  }&#xD;&#xD;                  // TODO  this loop below doesn&apos;t work. Need to find another way to wait for notification after first read&#xD;&#xD;                  var numCalls = 5;&#xD;                  var callNum = 0;&#xD;                  var value = -1;&#xD;&#xD;                  value = window.snapMicrobit.digitalReadPinBlock(pin);&#xD;&#xD;                  //while ((value == -1) &amp;&amp; (callNum++ &lt; numCalls)) {&#xD;                  //   value = window.snapMicrobit.readPinBlock(pin);&#xD;                  //}&#xD;&#xD;                  return value;&#xD;                </l></block><list><block var="pin_num"/></list></block></block></script><scripts><script x="668" y="43.833333333333314"><block s="doReport"><block s="reportURL"><block s="reportJoinWords"><list><l>http://127.0.0.1:30063/microbit/in/dreadpin/</l><block var="pin_num"/></list></block></block></block></script><script x="860" y="119.19999999999999"><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>pin</l></list><l>var numCalls = 100;&#xD;var callNum = 0;&#xD;function readdigitalgpin (pin, callNum) {&#xD;    var request = new XMLHttpRequest();&#xD;    var ledURL = "http://127.0.0.1:30063/microbit/in/dreadpin/" + pin;&#xD;    request.open(&apos;GET&apos;, ledURL, false);  // `false` makes the request synchronous&#xD;    request.send(null);&#xD;    callNum++;&#xD;&#xD;    if (request.status === 200) {&#xD;      console.log(request.responseText);&#xD;      if ((request.responseText == -1) &amp;&amp; (callNum &lt; numCalls))&#xD;         readdigitalgpin(pin, callNum);&#xD;      else&#xD;         return request.responseText;&#xD;    } else&#xD;        return "timeout error";&#xD;}&#xD;&#xD;return readdigitalgpin(pin, callNum);</l></block><list><block var="pin_num"/></list></block></block></script></scripts></block-definition><block-definition s="set analog pin %&apos;pin_num&apos; to %&apos;level&apos; %" type="command" category="sensing"><header></header><code></code><translations></translations><inputs><input type="%s" readonly="true">0<options>0&#xD;1&#xD;2&#xD;3&#xD;4&#xD;10</options></input><input type="%n">0</input></inputs><script><block s="doIf"><block s="reportGreaterThan"><block var="level"/><l>100</l></block><script><block s="doSetVar"><l>level</l><l>100</l></block><block s="doIf"><block s="reportLessThan"><block var="level"/><l>0</l></block><script><block s="doSetVar"><l>level</l><l>0</l></block></script></block></script></block><block s="doSetVar"><l>level</l><block s="reportProduct"><block var="level"/><l>10.23</l></block></block><custom-block s="microbitSnapSetup"></custom-block><block s="doRun"><block s="reportJSFunction"><list><l>pin_num</l><l>level</l></list><l>              var thisCommand = {&#xD;                robot: &apos;A&apos;,&#xD;                pin: pin_num,&#xD;                value: level,&#xD;                isDigital: 0,&#xD;                isInput: 0,&#xD;                isServo: 0,&#xD;                isServoPulse: 0,&#xD;                isAnalogPeriod: 0,&#xD;                isDigitalPulse: 0,&#xD;                digitalPulseLevel: 0&#xD;              }&#xD;&#xD;              window.snapMicrobit.sendCommand(thisCommand);</l></block><list><block var="pin_num"/><block var="level"/></list></block></script><scripts><script x="593" y="178.33333333333337"><block s="doReport"><block s="reportURL"><block s="reportJoinWords"><list><l>http://127.0.0.1:30063/microbit/out/awritepin/</l><block var="pin_num"/><l>/</l><block var="level"/></list></block></block></block></script></scripts></block-definition><block-definition s="read analog pin %&apos;pin_num&apos;" type="reporter" category="sensing"><header></header><code></code><translations></translations><inputs><input type="%s" readonly="true">0<options>0&#xD;1&#xD;2&#xD;3&#xD;4&#xD;10</options></input></inputs><script><custom-block s="microbitSnapSetup"></custom-block><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>pin</l></list><l>&#xD;                  if (window.snapMicrobit.analogReadPinBlock === undefined) {&#xD;                    window.snapMicrobit.analogReadPinBlock = function (pin) {&#xD;                      let robot = "A";&#xD;                      var isDigital, isInput, isServo, isServoPulse, isAnalogPeriod, isDigitalPulse, digitalPulseLevel;&#xD;                      isDigital = isInput = isServo = isServoPulse = isAnalogPeriod = isDigitalPulse = digitalPulseLevel= 0; &#xD;&#xD;                      // Set Pin Config Here:&#xD;                      // Analog Pin, is an output:&#xD;                      isInput = 1;  // a pin read is an input pin  i.e input voltage to the micro:bit&#xD;                      isDigital = 0;&#xD;&#xD;                      // Check for first read here&#xD;                      if (window.snapMicrobit.isFirstRead(robot, pin, isDigital, isInput, isAnalogPeriod, isDigitalPulse, digitalPulseLevel))&#xD;                      {&#xD;                          //isDigital=0 and isOutput=1 means this is an analog read pin.&#xD;                          var thisCommand = {&#xD;                            robot: robot,&#xD;                            pin: pin,&#xD;                            value: 0, // No value necessary, setting pin state&#xD;                            isDigital: isDigital,&#xD;                            isInput: isInput,&#xD;                            isServo: 0,&#xD;                            isServoPulse: 0,&#xD;                            isAnalogPeriod: 0,&#xD;                            isDigitalPulse: 0,&#xD;                            digitalPulseLevel: 0&#xD;                          }&#xD;                            window.snapMicrobit.sendCommand(thisCommand);&#xD;                            return -1;&#xD;                      }&#xD;                      else {&#xD;                        var pinVal = window.snapMicrobit.pinToInt(robot, pin);&#xD;                        //return window.snapMicrobit.notificationData[robot][pin] &amp; 0xFFFF&#xD;                        return pinVal &amp; 0xFFFF&#xD;                      }&#xD;                    }&#xD;                  }&#xD;&#xD;                  // TODO  this loop below doesn&apos;t work. Need to find another way to wait for notification after first read&#xD;&#xD;                  var numCalls = 5;&#xD;                  var callNum = 0;&#xD;                  var value = -1;&#xD;&#xD;                  value = window.snapMicrobit.analogReadPinBlock(pin);&#xD;&#xD;                  //while ((value == -1) &amp;&amp; (callNum++ &lt; numCalls)) {&#xD;                  //   value = window.snapMicrobit.readPinBlock(pin);&#xD;                  //}&#xD;&#xD;                  return value;&#xD;                </l></block><list><block var="pin_num"/></list></block></block></script><scripts><script x="858.9951171875" y="55.833333333333314"><block s="reportURL"><block s="reportJoinWords"><list><l>http://127.0.0.1:30063/microbit/in/areadpin/</l><block var="pin_num"/></list></block></block></script></scripts></block-definition><block-definition s="set analog pulse pin %&apos;pin_num&apos; to %&apos;level&apos; Âµs" type="command" category="sensing"><header></header><code></code><translations></translations><inputs><input type="%s" readonly="true">0<options>0&#xD;1&#xD;2&#xD;3&#xD;4&#xD;10</options></input><input type="%n">0</input></inputs><script><custom-block s="microbitSnapSetup"></custom-block><block s="doRun"><block s="reportJSFunction"><list><l>pin_num</l><l>level</l></list><l>              var thisCommand = {&#xD;                robot: &apos;A&apos;,&#xD;                pin: pin_num,&#xD;                value: level,&#xD;                isDigital: 0,&#xD;                isInput: 0,&#xD;                isServo: 0,&#xD;                isServoPulse: 0,&#xD;                isAnalogPeriod: 1,&#xD;                isDigitalPulse: 0,&#xD;                digitalPulseLevel: 0&#xD;              }&#xD;&#xD;              window.snapMicrobit.sendCommand(thisCommand);</l></block><list><block var="pin_num"/><block var="level"/></list></block></script><scripts><script x="492" y="89.83333333333331"><block s="doReport"><block s="reportURL"><block s="reportJoinWords"><list><l>http://127.0.0.1:30063/microbit/out/writeanalogpulse/</l><block var="pin_num"/><l>/</l><block var="level"/></list></block></block></block></script></scripts></block-definition><block-definition s="micro:bit Display $nl %&apos;r1c1&apos; %&apos;r1c2&apos; %&apos;r1c3&apos; %&apos;r1c4&apos; %&apos;r1c5&apos; $nl %&apos;r2c1&apos; %&apos;r2c2&apos; %&apos;r2c3&apos; %&apos;r2c4&apos; %&apos;r2c5&apos; $nl %&apos;r3c1&apos; %&apos;r3c2&apos; %&apos;r3c3&apos; %&apos;r3c4&apos; %&apos;r3c5&apos; $nl %&apos;r4c1&apos; %&apos;r4c2&apos; %&apos;r4c3&apos; %&apos;r4c4&apos; %&apos;r4c5&apos; $nl %&apos;r5c1&apos; %&apos;r5c2&apos; %&apos;r5c3&apos; %&apos;r5c4&apos; %&apos;r5c5&apos;" type="command" category="looks"><header></header><code></code><translations>ko:micro:bit ë³´ì´ê¸° _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _&#xD;de:micro:bit LED Anzeige _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _&#xD;pt:micro:bit Visor _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _&#xD;fr:micro:bit Display _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _&#xD;nl:micro:bit Scherm _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _&#xD;zh_CN:micro:bit æ¾ç¤º _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _&#xD;zh_TW:micro:bit é¡¯ç¤º _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _&#xD;ar:micro:bit Ø¹Ø±Ø¶ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _&#xD;dk:micro:bit Display _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _&#xD;he:micro:bit ××¡× _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _&#xD;es:micro:bit Monitor _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _&#xD;ca:micro:bit Pantalla _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _&#xD;fi:micro:bit NÃ¤ytÃ¤ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _&#xD;sv:micro:bit SkÃ¤rm _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _&#xD;</translations><inputs><input type="%b">false</input><input type="%b">false</input><input type="%b">false</input><input type="%b">false</input><input type="%b">false</input><input type="%b">false</input><input type="%b">false</input><input type="%b">false</input><input type="%b">false</input><input type="%b">false</input><input type="%b">false</input><input type="%b">false</input><input type="%b">false</input><input type="%b">false</input><input type="%b">false</input><input type="%b">false</input><input type="%b">false</input><input type="%b">false</input><input type="%b">false</input><input type="%b">false</input><input type="%b">false</input><input type="%b">false</input><input type="%b">false</input><input type="%b">false</input><input type="%b">false</input></inputs><script><custom-block s="microbitSnapSetup"></custom-block><block s="doRun"><block s="reportJSFunction"><list><l>r1c1, r1c2, r1c3, r1c4, r1c5, r2c1, r2c2, r2c3, r2c4, r2c5, r3c1, r3c2, r3c3, r3c4, r3c5, r4c1, r4c2, r4c3, r4c4, r4c5, r5c1, r5c2, r5c3, r5c4, r5c5 </l></list><l>              // Do not send redundant command if the state has not changed.&#xD;&#xD;              var matrixBits = 0;  // 32 bit int which contains bits indicating the desired state of the LED matrix.&#xD;              var params = [r1c1, r1c2, r1c3, r1c4, r1c5, r2c1, r2c2, r2c3, r2c4, r2c5, r3c1, r3c2, r3c3, r3c4, r3c5, r4c1, r4c2, r4c3, r4c4, r4c5, r5c1, r5c2, r5c3, r5c4, r5c5 ];&#xD;              var symbolCommand = new Uint8Array(4);&#xD;&#xD;              symbolCommand[0] |= (1 &lt;&lt; 6);  // This way a blank matrix is never 0 &#xD;&#xD;&#xD;              symbolCommand[0] = params[24] == true ?   (symbolCommand[0] | (1 &lt;&lt; 0)) :   (symbolCommand[0] &amp; &#126;(1 &lt;&lt; 0)); // R5 C5&#xD;&#xD;&#xD;              symbolCommand[1] = params[19] == true ?   (symbolCommand[1] | (1 &lt;&lt; 7)) :   (symbolCommand[1] &amp; &#126;(1 &lt;&lt; 7)); // R4 C5&#xD;              symbolCommand[1] = params[14] == true ?   (symbolCommand[1] | (1 &lt;&lt; 6)) :   (symbolCommand[1] &amp; &#126;(1 &lt;&lt; 6)); // R3 C5&#xD;              symbolCommand[1] = params[9] == true ?   (symbolCommand[1] | (1 &lt;&lt; 5)) :   (symbolCommand[1] &amp; &#126;(1 &lt;&lt; 5)); // R2 C5&#xD;              symbolCommand[1] = params[4] == true ?   (symbolCommand[1] | (1 &lt;&lt; 4)) :   (symbolCommand[1] &amp; &#126;(1 &lt;&lt; 4)); // R1 C5&#xD;&#xD;              symbolCommand[1] = params[23] == true ?   (symbolCommand[1] | (1 &lt;&lt; 3)) :   (symbolCommand[1] &amp; &#126;(1 &lt;&lt; 3)); // R5 C4&#xD;              symbolCommand[1] = params[18] == true ?   (symbolCommand[1] | (1 &lt;&lt; 2)) :   (symbolCommand[1] &amp; &#126;(1 &lt;&lt; 2)); // R4 C4&#xD;              symbolCommand[1] = params[13] == true ?   (symbolCommand[1] | (1 &lt;&lt; 1)) :   (symbolCommand[1] &amp; &#126;(1 &lt;&lt; 1)); // R3 C4&#xD;              symbolCommand[1] = params[8] == true ?   (symbolCommand[1] | (1 &lt;&lt; 0)) :   (symbolCommand[1] &amp; &#126;(1 &lt;&lt; 0)); // R2 C4&#xD;&#xD;&#xD;&#xD;              symbolCommand[2] = params[3] == true ?   (symbolCommand[2] | (1 &lt;&lt; 7)) :   (symbolCommand[2] &amp; &#126;(1 &lt;&lt; 7)); // R1 C4&#xD;&#xD;              symbolCommand[2] = params[22] == true ?   (symbolCommand[2] | (1 &lt;&lt; 6)) :   (symbolCommand[2] &amp; &#126;(1 &lt;&lt; 6)); // R5 C3&#xD;              symbolCommand[2] = params[17] == true ?   (symbolCommand[2] | (1 &lt;&lt; 5)) :   (symbolCommand[2] &amp; &#126;(1 &lt;&lt; 5)); // R4 C3&#xD;              symbolCommand[2] = params[12] == true ?   (symbolCommand[2] | (1 &lt;&lt; 4)) :   (symbolCommand[2] &amp; &#126;(1 &lt;&lt; 4)); // R3 C3&#xD;              symbolCommand[2] = params[7] == true ?   (symbolCommand[2] | (1 &lt;&lt; 3)) :   (symbolCommand[2] &amp; &#126;(1 &lt;&lt; 3)); // R2 C3&#xD;              symbolCommand[2] = params[2] == true ?   (symbolCommand[2] | (1 &lt;&lt; 2)) :   (symbolCommand[2] &amp; &#126;(1 &lt;&lt; 2)); // R1 C3&#xD;&#xD;              symbolCommand[2] = params[21] == true ?   (symbolCommand[2] | (1 &lt;&lt; 1)) :   (symbolCommand[2] &amp; &#126;(1 &lt;&lt; 1)); // R5 C2&#xD;              symbolCommand[2] = params[16] == true ?   (symbolCommand[2] | (1 &lt;&lt; 0)) :   (symbolCommand[2] &amp; &#126;(1 &lt;&lt; 0)); // R4 C2&#xD;&#xD;&#xD;&#xD;              symbolCommand[3] = params[11] == true ?   (symbolCommand[3] | (1 &lt;&lt; 7)) :   (symbolCommand[3] &amp; &#126;(1 &lt;&lt; 7)); // R3 C2&#xD;              symbolCommand[3] = params[6] == true ?   (symbolCommand[3] | (1 &lt;&lt; 6)) :   (symbolCommand[3] &amp; &#126;(1 &lt;&lt; 6)); // R2 C2 &#xD;              symbolCommand[3] = params[1] == true ?   (symbolCommand[3] | (1 &lt;&lt; 5)) :   (symbolCommand[3] &amp; &#126;(1 &lt;&lt; 5)); //  R1 C2&#xD;&#xD;              symbolCommand[3] = params[20] == true ?   (symbolCommand[3] | (1 &lt;&lt; 4)) :   (symbolCommand[3] &amp; &#126;(1 &lt;&lt; 4)); //24 R5 C1&#xD;              symbolCommand[3] = params[15] == true ?   (symbolCommand[3] | (1 &lt;&lt; 3)) :   (symbolCommand[3] &amp; &#126;(1 &lt;&lt; 3)); //24 R4 C1&#xD;              symbolCommand[3] = params[10] == true ?   (symbolCommand[3] | (1 &lt;&lt; 2)) :   (symbolCommand[3] &amp; &#126;(1 &lt;&lt; 2)); //24 R3 C1&#xD;              symbolCommand[3] = params[5] == true ?   (symbolCommand[3] | (1 &lt;&lt; 1)) :   (symbolCommand[3] &amp; &#126;(1 &lt;&lt; 1)); //24 R2 C1&#xD;              symbolCommand[3] = params[0] == true ?   (symbolCommand[3] | (1 &lt;&lt; 0)) :   (symbolCommand[3] &amp; &#126;(1 &lt;&lt; 0)); //   R1 C1&#xD;&#xD;&#xD;              //console.log(params);&#xD;              //console.log("symbolCommand = ");&#xD;              //console.log(symbolCommand);&#xD;&#xD;              var dataview = new DataView(symbolCommand.buffer);&#xD;              matrixBits =  dataview.getUint32(0);&#xD;              matrixBits |= 1 &lt;&lt; 27 // set bit 27 to indicate LED Matrix Data in bits 0 - 24&#xD;&#xD;              //console.log("MatrixBits = 0x" + matrixBits.toString(16));&#xD;&#xD;&#xD;              if (window.snapMicrobit.led.matrix.lastValue == matrixBits){&#xD;                return;&#xD;              }&#xD;  &#xD;              var thisCommand = {&#xD;                robot: &apos;A&apos;,&#xD;                pin: 17,       // LED command is encoded on pin 17&apos;s position&#xD;                value: matrixBits,&#xD;                isDigital: 0,  // LED commands are all zeros&#xD;                isOutput: 0,&#xD;                isServo: 0,&#xD;                isServoPulse: 0,&#xD;                isAnalogPeriod: 0,&#xD;                isDigitalPulse: 0,&#xD;                digitalPulseLevel: 0&#xD;              }&#xD;&#xD;              window.snapMicrobit.led.matrix.lastValue = matrixBits;&#xD;              window.snapMicrobit.sendCommand(thisCommand);&#xD;              &#xD;            </l></block><list><block var="r1c1"/><block var="r1c2"/><block var="r1c3"/><block var="r1c4"/><block var="r1c5"/><block var="r2c1"/><block var="r2c2"/><block var="r2c3"/><block var="r2c4"/><block var="r2c5"/><block var="r3c1"/><block var="r3c2"/><block var="r3c3"/><block var="r3c4"/><block var="r3c5"/><block var="r4c1"/><block var="r4c2"/><block var="r4c3"/><block var="r4c4"/><block var="r4c5"/><block var="r5c1"/><block var="r5c2"/><block var="r5c3"/><block var="r5c4"/><block var="r5c5"/></list></block><block s="doWait"><l>0.01</l></block></script><scripts><script x="731" y="16"><block s="doReport"><block s="reportURL"><block s="reportJoinWords"><list><l>http://127.0.0.1:30061/hummingbird/out/symbol/A/</l><block var="11"/><l>/</l><block var="12"/><l>/</l><block var="r1c3"/><l>/</l><block var="r1c4"/><l>/</l><block var="r1c5"/><l>/</l><block var="r2c1"/><l>/</l><block var="r2c2"/><l>/</l><block var="r2c3"/><l>/</l><block var="r2c4"/><l>/</l><block var="25"/><l>/</l><block var="31"/><l>/</l><block var="r3c2"/><l>/</l><block var="33"/><l>/</l><block var="34"/><l>/</l><block var="35"/><l>/</l><block var="41"/><l>/</l><block var="42"/><l>/</l><block var="43"/><l>/</l><block var="44"/><l>/</l><block var="45"/><l>/</l><block var="51"/><l>/</l><block var="52"/><l>/</l><block var="53"/><l>/</l><block var="54"/><l>/</l><block var="55"/></list></block></block></block></script></scripts></block-definition><block-definition s="micro:bit display %&apos;state&apos;" type="command" category="looks"><header></header><code></code><translations></translations><inputs><input type="%s" readonly="true">disable<options>disable&#xD;enable</options></input></inputs><script><custom-block s="microbitSnapSetup"></custom-block><block s="doIfElse"><block s="reportEquals"><block var="state"/><l>enable</l></block><script><block s="doRun"><block s="reportJSFunction"><list><l>state</l></list><l>              // Do not send redundant command if the state has not changed.&#xD;              if (window.snapMicrobit.led.enable.lastValue == state){&#xD;                return;&#xD;              }&#xD;  &#xD;              var thisCommand = {&#xD;                robot: &apos;A&apos;,&#xD;                pin: 17,       // LED command is encoded on pin 17&apos;s position&#xD;                value: 1,&#xD;                isDigital: 0,  // LED commands are all zeros&#xD;                isOutput: 0,&#xD;                isServo: 0,&#xD;                isServoPulse: 0,&#xD;                isAnalogPeriod: 0,&#xD;                isDigitalPulse: 0,&#xD;                digitalPulseLevel: 0&#xD;              }&#xD;&#xD;              window.snapMicrobit.led.enable.lastValue = state;&#xD;              window.snapMicrobit.sendCommand(thisCommand);&#xD;              </l></block><list><block var="state"/></list></block></script><script><block s="doRun"><block s="reportJSFunction"><list><l>state</l></list><l>              // Do not send redundant command if the state has not changed.&#xD;              if (window.snapMicrobit.led.enable.lastValue == state){&#xD;                return;&#xD;              }&#xD;  &#xD;              var thisCommand = {&#xD;                robot: &apos;A&apos;,&#xD;                pin: 17,       // LED command is encoded on pin 17&apos;s position&#xD;                value: 0,&#xD;                isDigital: 0,  // LED commands are all zeros&#xD;                isOutput: 0,&#xD;                isServo: 0,&#xD;                isServoPulse: 0,&#xD;                isAnalogPeriod: 0,&#xD;                isDigitalPulse: 0,&#xD;                digitalPulseLevel: 0&#xD;              }&#xD;&#xD;              window.snapMicrobit.led.enable.lastValue = state;&#xD;              window.snapMicrobit.sendCommand(thisCommand);&#xD;              </l></block><list><block var="state"/></list></block></script></block><block s="doWait"><l>0.01</l></block></script><scripts><script x="562" y="167.33333333333337"><block s="doReport"><block s="reportURL"><block s="reportJoinWords"><list><l>http://127.0.0.1:30063/microbit/out/microbitdisplay/</l><l>17</l><l>/</l><l>0</l></list></block></block></block></script><script x="591" y="253.50000000000006"><block s="doReport"><block s="reportURL"><block s="reportJoinWords"><list><l>http://127.0.0.1:30063/microbit/out/microbitdisplay/</l><l>17</l><l>/</l><l>1</l></list></block></block></block></script></scripts></block-definition><block-definition s="read %&apos;sensor&apos; sensor on analog pin %&apos;pin&apos;" type="reporter" category="sensing"><header></header><code></code><translations></translations><inputs><input type="%txt" readonly="true">Light (%)<options>Rotary (%)&#xD;Light (%)&#xD;Moisture (%)&#xD;Sound (%)&#xD;Temperature (C)&#xD;Other (V)</options></input><input type="%s" readonly="true">0<options>0&#xD;1&#xD;2&#xD;3&#xD;4&#xD;10</options></input></inputs><script><block s="doDeclareVariables"><list><l>value</l></list></block><block s="doIf"><block s="reportEquals"><block var="sensor"/><l>Other (V)</l></block><script><block s="doSetVar"><l>sensor</l><l>Other</l></block></script></block><block s="doIf"><block s="reportEquals"><block var="sensor"/><l>Distance (cm)</l></block><script><block s="doSetVar"><l>sensor</l><l>Distance</l></block></script></block><block s="doSetVar"><l>value</l><custom-block s="read analog pin %s"><block var="pin"/></custom-block></block><block s="doIf"><block s="reportEquals"><block var="sensor"/><l>Other</l></block><script><block s="doReport"><block s="reportQuotient"><block s="reportRound"><block s="reportProduct"><block s="reportProduct"><l>0.003225806</l><block var="value"/></block><l>100</l></block></block><l>100</l><comment w="102" collapsed="false">3.3/1023 scale factor</comment></block></block></script></block><block s="doIf"><block s="reportEquals"><block var="sensor"/><l>Sound (%)</l><comment w="155" collapsed="true">If connected, adjust sound level</comment></block><script><block s="doReport"><block s="reportRound"><block s="reportProduct"><l>0.1955</l><block var="value"/><comment w="140" collapsed="false">200/1023 Scaling factor</comment></block></block></block></script></block><block s="doIf"><block s="reportEquals"><block var="sensor"/><l>Light (%)</l></block><script><block s="doReport"><block s="reportRound"><block s="reportProduct"><l>0.392</l><block var="value"/><comment w="140" collapsed="false">TODO: Digital Light Sensor  i.e. On or Off</comment></block></block></block></script></block><block s="doIf"><block s="reportEquals"><block var="sensor"/><l>Rotary (%)</l></block><script><block s="doReport"><block s="reportRound"><block s="reportProduct"><l>0.09775</l><block var="value"/><comment w="140" collapsed="false">100/1023 Scaling factor</comment></block></block></block></script></block></script><scripts><script x="251" y="586.1666666666667"><block s="doIfElse"><block s="reportNot"><block s="reportEquals"><block var="value"/><l>Not Connected</l></block></block><script></script><script><block s="doReport"><l>Not Connected</l></block></script></block></script><script x="356.4560546875" y="198.33333333333331"><block s="reportURL"><block s="reportJoinWords"><list><l>http://127.0.0.1:30063/microbit/in/areadpin/</l><block var="pin"/></list></block></block></script><script x="471" y="244.16666666666669"><block s="doIf"><block s="reportEquals"><block var="sensor"/><l>Distance</l></block><script><block s="doReport"><block s="reportRound"><block s="reportProduct"><l>1.17</l><block var="value"/></block></block><comment w="90" collapsed="false">117/100 Scaling factor</comment></block></script></block></script></scripts></block-definition><block-definition s="micro:bit Accelerometer (m/sÂ²) %&apos;dim&apos;" type="reporter" category="sensing"><header></header><code></code><translations></translations><inputs><input type="%txt" readonly="true">X<options>X&#xD;Y&#xD;Z</options></input></inputs><script><custom-block s="microbitSnapSetup"></custom-block><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>dim</l></list><l>var pin;&#xD;var robot = "A";&#xD;if (dim == &apos;X&apos;)&#xD;	pin = 17;&#xD;if (dim == &apos;Y&apos;)&#xD;	pin = 18;&#xD;if (dim == &apos;Z&apos;)&#xD;	pin = 19;&#xD;return Math.round((window.snapMicrobit.pinToInt32(robot, pin) / 100)) * 0.98;</l></block><list><block var="dim"/></list></block></block></script><scripts><script x="507" y="35.833333333333314"><block s="doReport"><block s="reportProduct"><block s="reportRound"><block s="reportQuotient"><block s="reportURL"><block s="reportJoinWords"><list><l>http://127.0.0.1:30063/microbit/in/</l><l>accelerometer</l><l>/</l><block var="dim"/></list></block></block><l>100</l></block><comment w="229" collapsed="false">milli-g  converted to m/s/s.  e.g. 1g = 9.8 m/s/s</comment></block><l>.98</l></block></block></script></scripts></block-definition><block-definition s="micro:bit %&apos;dim&apos;" type="predicate" category="sensing"><header></header><code></code><translations></translations><inputs><input type="%txt" readonly="true">Screen Up<options>Screen Up&#xD;Screen Down&#xD;Tilt Left&#xD;Tilt Right&#xD;Logo Up&#xD;Logo Down&#xD;Shake</options></input></inputs><script><custom-block s="microbitSnapSetup"></custom-block><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>dim</l></list><l>                    var robot = "A";&#xD;                    value = window.snapMicrobit.pinToInt(robot, 12); // pin 12 is tilt sensor&#xD;                    switch (dim) { //XYZ number to byte mapping&#xD;                        case "Tilt Left":   //X axis&#xD;                            if (value == 3)   //MICROBIT_ACCELEROMETER_EVT_TILT_LEFT&#xD;                                return true;&#xD;                            else &#xD;                                return false;&#xD;                        break;&#xD;                        case "Tilt Right":                        &#xD;                            if (value == 4)   //MICROBIT_ACCELEROMETER_EVT_TILT_RIGHT&#xD;                                return true;&#xD;                            else &#xD;                                return false;&#xD;                        break;&#xD;                        case "Logo Up":     // Y axis&#xD;                            if (value == 1)   &#xD;                                return true;&#xD;                            else &#xD;                                return false;&#xD;                        break;&#xD;                        case "Logo Down": //MICROBIT_ACCELEROMETER_EVT_TILT_DOWN&#xD;                            if (value == 2)   &#xD;                                return true;&#xD;                            else &#xD;                                return false;&#xD;                        break;                            &#xD;                        case "Screen Up":     // Z axis //MICROBIT_ACCELEROMETER_EVT_FACE_UP&#xD;                            if (value == 5)   &#xD;                                return true;&#xD;                            else &#xD;                                return false;&#xD;                        break;&#xD;                        case "Screen Down":   //MICROBIT_ACCELEROMETER_EVT_FACE_DOWN&#xD;                            if (value == 6)   &#xD;                                return true;&#xD;                            else &#xD;                                return false;    &#xD;                        break;&#xD;                        case "Shake" : //MICROBIT_ACCELEROMETER_EVT_SHAKE&#xD;                            if (value == 11)   &#xD;                                return true;&#xD;                            else &#xD;                                return false;&#xD;                        break;&#xD;                        default:&#xD;                            return false;&#xD;                        break;&#xD;                    }</l></block><list><block var="dim"/></list></block></block></script><scripts><script x="590" y="39.833333333333314"><block s="doIfElse"><block s="reportEquals"><block s="reportURL"><block s="reportJoinWords"><list><l>http://127.0.0.1:30063/microbit/in/orientation/</l><block var="dim"/></list></block></block><l>true</l></block><script><block s="doReport"><block s="reportBoolean"><l><bool>true</bool></l></block></block></script><script><block s="doReport"><block s="reportBoolean"><l><bool>false</bool></l></block></block></script></block></script></scripts></block-definition><block-definition s="Position Servo pin %&apos;pin&apos; %&apos;position&apos; Â°" type="command" category="motion"><header></header><code></code><translations>ko:Hummingbird ìì¹ ì ì´ ìë³´ _ _ Â°&#xD;de:Hummingbird Position Servo _ _ Â°&#xD;pt:Hummingbird PosiÃ§Ã£o do Servo _ _ Â°&#xD;fr:Hummingbird Position Servo _ _ Â°&#xD;nl:Hummingbird Positie-Servo _ _ Â°&#xD;zh_CN:Hummingbird ä½ç½®ä¼ºæ _ _ Â°&#xD;zh_TW:Hummingbird ä½ç½®ä¼ºæ _ _ Â°&#xD;ar:Hummingbird ÙÙÙÙ ÙØ­Ø±Ù Ø³ÙØ±ÙÙ Ø§ÙÙØ¤Ø§Ø²Ø±  _ _&#xD;dk:Hummingbird Positionsservo _ _ Â°&#xD;he:Hummingbird ×¡×¨×× ×××××     _ _&#xD;es:Hummingbird Servo de posicion _ _ Â°&#xD;ca:Hummingbird Servo posicional _ _ Â°&#xD;fi:Hummingbird Asentoservo _ _ Â°&#xD;sv:Hummingbird Positionsservo _ _ Â°&#xD;</translations><inputs><input type="%n" readonly="true">0<options>0&#xD;1&#xD;2&#xD;3&#xD;4&#xD;10</options></input><input type="%n">90</input></inputs><script><block s="doIf"><block s="reportLessThan"><block var="position"/><l>0</l></block><script><block s="doSetVar"><l>position</l><l>0</l></block></script></block><block s="doIf"><block s="reportGreaterThan"><block var="position"/><l>180</l></block><script><block s="doSetVar"><l>position</l><l>180</l></block></script></block><custom-block s="microbitSnapSetup"></custom-block><block s="doRun"><block s="reportJSFunction"><list><l>pin</l><l>position</l></list><l>              // Do not send redundant command if the position has not changed.&#xD;              if (window.snapMicrobit.servo.position.lastValue == position){&#xD;                //console.log("position Server value steady, doing nothing");&#xD;                return;&#xD;              }&#xD;  &#xD;              var thisCommand = {&#xD;                robot: &apos;A&apos;,&#xD;                pin: pin,&#xD;                value: position,&#xD;                isDigital: 0,&#xD;                isOutput: 0,&#xD;                isServo: 1,&#xD;                isServoPulse: 0,&#xD;                isAnalogPeriod: 0,&#xD;                isDigitalPulse: 0,&#xD;                digitalPulseLevel: 0&#xD;              }&#xD;&#xD;              window.snapMicrobit.sendCommand(thisCommand);&#xD;              window.snapMicrobit.servo.position.lastValue = position;&#xD;            </l></block><list><block var="pin"/><block var="position"/></list></block><block s="doWait"><l>0</l></block></script></block-definition><block-definition s="Rotation Servo pin %&apos;pin&apos; %&apos;speed&apos; %" type="command" category="motion"><header></header><code></code><translations>ko:Hummingbird íì ìë ì ì´ ìë³´ _ _ %&#xD;de:Hummingbird Drehung Servo _ _ %&#xD;pt:Hummingbird RotaÃ§Ã£o do Servo _ _ %&#xD;fr:Hummingbird Rotation Servo _ _ %&#xD;nl:Hummingbird Draai-Servo _ _ %&#xD;zh_CN:Hummingbird æè½¬ä¼ºæ _ _ %&#xD;zh_TW:Hummingbird æè½ä¼ºæ _ _ %&#xD;ar:Hummingbird ÙØªØ­Ø© Ø¯ÙØ±Ø§Ù Ø§ÙÙØ­Ø±Ù Ø§ÙÙØ¤Ø§Ø²Ø±  _ _&#xD;dk:Hummingbird Rotationsservo _ _ %&#xD;he:Hummingbird ×¡×¨×× ×¡××××××    _ _ %&#xD;es:Hummingbird Servo de rotacion _ _ %&#xD;ca:Hummingbird Servo rotacional _ _ %&#xD;fi:Hummingbird Kiertoservo _ _ %&#xD;sv:Hummingbird Rotationsservo _ _ %&#xD;</translations><inputs><input type="%n" readonly="true">0<options>0&#xD;1&#xD;2&#xD;3&#xD;4&#xD;10</options></input><input type="%n">0</input></inputs><script><block s="doIf"><block s="reportLessThan"><block var="speed"/><l>-100</l></block><script><block s="doSetVar"><l>speed</l><l>-100</l></block></script></block><block s="doIf"><block s="reportGreaterThan"><block var="speed"/><l>100</l></block><script><block s="doSetVar"><l>speed</l><l>100</l></block></script></block><block s="doIfElse"><block s="reportAnd"><block s="reportGreaterThan"><block var="speed"/><l>-3</l></block><block s="reportLessThan"><block var="speed"/><l>3</l></block></block><script><block s="doSetVar"><l>speed</l><l>0</l></block></script><script><block s="doIfElse"><block s="reportGreaterThan"><block var="speed"/><l>0</l></block><script><block s="doSetVar"><l>speed</l><block s="reportMonadic"><l><option>abs</option></l><block s="reportDifference"><block var="speed"/><l>100</l></block></block></block><block s="doSetVar"><l>speed</l><block s="reportSum"><block s="reportProduct"><block var="speed"/><l>8</l></block><l>700</l></block></block></script><script><block s="doSetVar"><l>speed</l><block s="reportSum"><l>1500</l><block s="reportProduct"><block s="reportMonadic"><l><option>abs</option></l><block var="speed"/></block><l>8</l></block></block></block></script></block></script></block><custom-block s="microbitSnapSetup"></custom-block><block s="doRun"><block s="reportJSFunction"><list><l>pin</l><l>speed</l></list><l>              // Do not send redundant command if the position has not changed.&#xD;              if (window.snapMicrobit.servo.rotation.lastValue == speed){&#xD;                //console.log("Rotation Server value steady, doing nothing");&#xD;                return;&#xD;              }&#xD;  &#xD;              var thisCommand = {&#xD;                robot: &apos;A&apos;,&#xD;                pin: pin,&#xD;                value: speed,&#xD;                isDigital: 0,&#xD;                isOutput: 0,&#xD;                isServo: 0,&#xD;                isServoPulse: 1,&#xD;                isAnalogPeriod: 0,&#xD;                isDigitalPulse: 0,&#xD;                digitalPulseLevel: 0&#xD;              }&#xD;&#xD;              window.snapMicrobit.servo.rotation.lastValue = speed;&#xD;              window.snapMicrobit.sendCommand(thisCommand);&#xD;              &#xD;            </l></block><list><block var="pin"/><block var="speed"/></list></block></script></block-definition><block-definition s="set LED on analog pin %&apos;pin&apos; to %&apos;intensity&apos; %" type="command" category="looks"><header></header><code></code><translations>ko:Hummingbird LED _ _ %&#xD;de:Hummingbird LED _ _ %&#xD;pt:Hummingbird LED _ _ %&#xD;fr:Hummingbird LED _ _ %&#xD;nl:Hummingbird LED _ _ %&#xD;zh_CN:Hummingbird LED _ _ %&#xD;zh_TW:Hummingbird LED _ _ %&#xD;ar:Hummingbird Ø¶ÙØ¡ _ _&#xD;dk:Hummingbird LED _ _ %&#xD;he:Hummingbird ××   % _ _&#xD;es:Hummingbird LED _ _ %&#xD;ca:Hummingbird LED _ _ %&#xD;fi:Hummingbird LED _ _ %&#xD;sv:Hummingbird LED _ _ %&#xD;</translations><inputs><input type="%n" readonly="true">0<options>0&#xD;1&#xD;2&#xD;3&#xD;4&#xD;10</options></input><input type="%n">0</input></inputs><script><block s="doIf"><block s="reportLessThan"><block var="intensity"/><l>0</l></block><script><block s="doSetVar"><l>intensity</l><l>0</l></block></script></block><block s="doIf"><block s="reportGreaterThan"><block var="intensity"/><l>100</l></block><script><block s="doSetVar"><l>intensity</l><l>100</l></block></script></block><block s="doSetVar"><l>intensity</l><block s="reportRound"><block s="reportProduct"><block var="intensity"/><l>10.23</l></block><comment w="158" collapsed="false">Scale factor  to 0 - 1023 range</comment></block></block><block s="doRun"><block s="reportJSFunction"><list><l>pin,intensitynum</l></list><l>////////////////////////////////////////////////////////////////////////////////&#xD;// In order to avoid sending more messages than the app can handle, whenever we&#xD;// send a message we also save it in a persistent global variable. When the&#xD;// message is processed in the app, the callback checks if the global variable&#xD;// still matches what it was changed to. If it was, it deletes the global&#xD;// variable. Otherwise the message is resent with new data.&#xD;//&#xD;// When this block is called it checks if the global value has been set. If it&#xD;// has, it sends a message. Otherwise it just updates the value and lets the&#xD;// callback handle it.&#xD;&#xD;&#xD;// We can&apos;t run code beforehand to define values so we must check each block&#xD;// call if they are set.&#xD;if (window.birdbrain === undefined || window.birdbrain.LEDs === undefined) {&#xD;    window.birdbrain = window.birdbrain || {};&#xD;    window.birdbrain.LEDs = {&#xD;        // By attaching this function to a global variable, it is only&#xD;        // defined once instead of every time this block is called, improving&#xD;        // performance significantly.&#xD;        setLEDIntensity: function(pin, intensity) {&#xD;            function callback() {&#xD;                if (window.birdbrain.LEDs[pin] === intensity) {&#xD;                    delete window.birdbrain.LEDs[pin];&#xD;                }&#xD;                else {&#xD;                    window.birdbrain.LEDs.setLEDIntensity(pin, window.birdbrain.LEDs[pin]);&#xD;                }&#xD;            }&#xD;&#xD;            //Create a new XMLHttpRequest object&#xD;            var xhr = new XMLHttpRequest();&#xD;            var ledURL = "http://127.0.0.1:30063/microbit/out/awritepin/" + pin + "/" + intensity;&#xD;            //console.log(ledURL);&#xD;            xhr.open("GET", ledURL, true);&#xD;            xhr.onload = function (e) {&#xD;              if (xhr.readyState === 4) {&#xD;                if (xhr.status === 200) {&#xD;                  callback();&#xD;                } else {&#xD;                  console.error(xhr.statusText);&#xD;                }&#xD;              }&#xD;            };&#xD;            xhr.onerror = function (e) {&#xD;              console.error(xhr.statusText);&#xD;            };&#xD;            xhr.send(null);&#xD;&#xD;        }&#xD;    }&#xD;}&#xD;&#xD;//var realIntensity = Math.floor(intensitynum*10.23);&#xD;&#xD;//realIntensity = Math.max(Math.min(realIntensity,1023.0),0.0);&#xD;&#xD;if (window.birdbrain.LEDs[pin] === undefined) {&#xD;  window.birdbrain.LEDs.setLEDIntensity(pin, intensitynum);&#xD;}&#xD;&#xD;window.birdbrain.LEDs[pin] = intensitynum;</l></block><list><block var="pin"/><block var="intensity"/></list></block><block s="doWait"><l>0</l></block></script><scripts><script x="484.42857142857156" y="35.5714285714285"><block s="doReport"><block s="reportURL"><block s="reportJoinWords"><list><l>http://127.0.0.1:30061/hummingbird/out/led/</l><block var="port"/><l>/</l><block var="intensity"/></list></block></block></block></script></scripts></block-definition><block-definition s="set LED on digital pin %&apos;pin&apos; to %&apos;intensity&apos;" type="command" category="looks"><header></header><code></code><translations>ko:Hummingbird LED _ _ %&#xD;de:Hummingbird LED _ _ %&#xD;pt:Hummingbird LED _ _ %&#xD;fr:Hummingbird LED _ _ %&#xD;nl:Hummingbird LED _ _ %&#xD;zh_CN:Hummingbird LED _ _ %&#xD;zh_TW:Hummingbird LED _ _ %&#xD;ar:Hummingbird Ø¶ÙØ¡ _ _&#xD;dk:Hummingbird LED _ _ %&#xD;he:Hummingbird ××   % _ _&#xD;es:Hummingbird LED _ _ %&#xD;ca:Hummingbird LED _ _ %&#xD;fi:Hummingbird LED _ _ %&#xD;sv:Hummingbird LED _ _ %&#xD;</translations><inputs><input type="%s" readonly="true">0<options>0&#xD;1&#xD;2&#xD;3&#xD;4&#xD;5&#xD;6&#xD;7&#xD;8&#xD;9&#xD;10&#xD;11&#xD;13&#xD;14&#xD;15&#xD;16</options></input><input type="%s" readonly="true">0<options>0&#xD;1</options></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>pin,intensitynum</l></list><l>////////////////////////////////////////////////////////////////////////////////&#xD;// In order to avoid sending more messages than the app can handle, whenever we&#xD;// send a message we also save it in a persistent global variable. When the&#xD;// message is processed in the app, the callback checks if the global variable&#xD;// still matches what it was changed to. If it was, it deletes the global&#xD;// variable. Otherwise the message is resent with new data.&#xD;//&#xD;// When this block is called it checks if the global value has been set. If it&#xD;// has, it sends a message. Otherwise it just updates the value and lets the&#xD;// callback handle it.&#xD;&#xD;&#xD;// We can&apos;t run code beforehand to define values so we must check each block&#xD;// call if they are set.&#xD;if (window.birdbrain === undefined || window.birdbrain.LEDs === undefined) {&#xD;    window.birdbrain = window.birdbrain || {};&#xD;    window.birdbrain.LEDs = {&#xD;        // By attaching this function to a global variable, it is only&#xD;        // defined once instead of every time this block is called, improving&#xD;        // performance significantly.&#xD;        setLEDIntensity: function(pin, intensity) {&#xD;            function callback() {&#xD;                if (window.birdbrain.LEDs[pin] === intensity) {&#xD;                    delete window.birdbrain.LEDs[pin];&#xD;                }&#xD;                else {&#xD;                    window.birdbrain.LEDs.setLEDIntensity(pin, window.birdbrain.LEDs[pin]);&#xD;                }&#xD;            }&#xD;&#xD;            //Create a new XMLHttpRequest object&#xD;            var xhr = new XMLHttpRequest();&#xD;            var ledURL = "http://127.0.0.1:30063/microbit/out/dwritepin/" + pin + "/" + intensity;&#xD;            //console.log(ledURL);            &#xD;            xhr.open("GET", ledURL, true);&#xD;            xhr.onload = function (e) {&#xD;              if (xhr.readyState === 4) {&#xD;                if (xhr.status === 200) {&#xD;                  callback();&#xD;                } else {&#xD;                  console.error(xhr.statusText);&#xD;                }&#xD;              }&#xD;            };&#xD;            xhr.onerror = function (e) {&#xD;              console.error(xhr.statusText);&#xD;            };&#xD;            xhr.send(null);&#xD;&#xD;        }&#xD;    }&#xD;}&#xD;&#xD;//var realIntensity = Math.floor(intensitynum*10.23);&#xD;&#xD;//realIntensity = Math.max(Math.min(realIntensity,1023.0),0.0);&#xD;&#xD;if (window.birdbrain.LEDs[pin] === undefined) {&#xD;  window.birdbrain.LEDs.setLEDIntensity(pin, intensitynum);&#xD;}&#xD;&#xD;window.birdbrain.LEDs[pin] = intensitynum;</l></block><list><block var="pin"/><block var="intensity"/></list></block><block s="doWait"><l>0</l></block></script><scripts><script x="580.4285714285716" y="95.28571428571445"><block s="doSetVar"><l>intensity</l><block s="reportRound"><block s="reportProduct"><block var="intensity"/><l>2.55</l><comment w="90" collapsed="false">Scale factor 255/100</comment></block></block></block></script><script x="659" y="198.53333333333342"><block s="reportEquals"><l></l><l></l></block></script><script x="823" y="317.8333333333332"><block s="doIfElse"><l/><script></script><script></script></block></script><script x="707" y="174.66666666666669"><block s="doIf"><block s="reportOr"><block s="reportGreaterThan"><block var="intensity"/><l>0</l></block><block s="reportEquals"><block var="intensity"/><l>on</l></block></block><script><block s="doSetVar"><l>intensity</l><l>1</l></block></script></block><block s="doIf"><block s="reportOr"><block s="reportGreaterThan"><l>1</l><block var="intensity"/></block><block s="reportEquals"><block var="intensity"/><l>off</l></block></block><script><block s="doSetVar"><l>intensity</l><l>0</l></block></script></block></script><script x="610" y="251.83333333333331"><block s="bubble"><block var="intensity"/></block></script><script x="736.4285714285716" y="37.571428571428555"><block s="doReport"><block s="reportURL"><block s="reportJoinWords"><list><l>http://127.0.0.1:30061/hummingbird/out/led/</l><block var="port"/><l>/</l><block var="intensity"/></list></block></block></block></script><script x="926" y="366.8333333333333"><block s="doIfElse"><block s="reportEquals"><block var="intensity"/><l>on</l></block><script><block s="doSetVar"><l>intensity</l><l>1</l></block></script><script><block s="doIfElse"><block s="reportEquals"><block var="intensity"/><l>off</l></block><script><block s="doSetVar"><l>intensity</l><l>0</l></block></script><script><block s="doIfElse"><block s="reportGreaterThan"><block var="intensity"/><l>0</l></block><script><block s="doSetVar"><l>intensity</l><l>1</l></block></script><script><block s="doSetVar"><l>intensity</l><l>0</l></block></script></block></script></block></script></block></script></scripts></block-definition><block-definition s="read %&apos;sensor&apos; sensor on digital pin %&apos;pin&apos;" type="reporter" category="sensing"><header></header><code></code><translations></translations><inputs><input type="%s" readonly="true">Light<options>Light&#xD;On/Off&#xD;Momentary Switch&#xD;Opto-interrupt&#xD;Water</options></input><input type="%s" readonly="true">0<options>0&#xD;1&#xD;2&#xD;3&#xD;4&#xD;5&#xD;6&#xD;7&#xD;8&#xD;9&#xD;10&#xD;11&#xD;13&#xD;14&#xD;15&#xD;16</options></input></inputs><script><block s="doReport"><custom-block s="read digital pin %txt"><block var="pin"/></custom-block></block></script><scripts><script x="158.9951171875" y="101.83333333333331"><block s="reportURL"><block s="reportJoinWords"><list><l>http://127.0.0.1:30063/microbit/in/dreadpin/</l><block var="pin"/></list></block></block></script></scripts></block-definition><block-definition s="read analog period on pin %&apos;pin_num&apos; Âµs" type="reporter" category="sensing"><header></header><code></code><translations></translations><inputs><input type="%s" readonly="true">0<options>0&#xD;1&#xD;2&#xD;3&#xD;4&#xD;10</options></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>pin</l></list><l>&#xD;                  if (window.snapMicrobit.readAnalogPulsePinBlock === undefined) {&#xD;                    window.snapMicrobit.readAnalogPulsePinBlock = function (pin) {&#xD;                      let robot = "A";&#xD;                      var isDigital, isInput, isServo, isServoPulse, isAnalogPeriod, isDigitalPulse, digitalPulseLevel;&#xD;                      isDigital = isInput = isServo = isServoPulse = isAnalogPeriod = isDigitalPulse = digitalPulseLevel= 0; &#xD;&#xD;                      // Set Pin Config Here:&#xD;                      // Analog Pin, is an output:&#xD;                      isDigital = 0; // 0 is for analog mode&#xD;                      isInput = 1;  // 1 is for read&#xD;                      isAnalogPeriod = 1; // Read the digital pulse  in microseconds&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;                      // Check for first read here&#xD;                      if (window.snapMicrobit.isFirstRead(robot, pin, isDigital, isInput, isAnalogPeriod, isDigitalPulse, digitalPulseLevel))&#xD;                      {&#xD;                          //isDigital=0 and isOutput=1 means this is an analog read pin.&#xD;                          var thisCommand = {&#xD;                            robot: robot,&#xD;                            pin: pin,&#xD;                            value: digitalPulseLevel, // Value necessary to know which pulse to count i.e. high or low.&#xD;                            isDigital: isDigital,&#xD;                            isInput: isInput,&#xD;                            isServo: 0,&#xD;                            isServoPulse: 0,&#xD;                            isAnalogPeriod: 0,&#xD;                            isDigitalPulse: isDigitalPulse,&#xD;                            digitalPulseLevel: digitalPulseLevel&#xD;                          }&#xD;                            window.snapMicrobit.sendCommand(thisCommand);&#xD;                            return -1;&#xD;                      }&#xD;                      else {&#xD;                        var pinVal = window.snapMicrobit.pinToInt(robot, pin);&#xD;                        return pinVal &amp; 0xFFFF&#xD;                      }&#xD;                    }&#xD;                  }&#xD;&#xD;                  // TODO  this loop below doesn&apos;t work. Need to find another way to wait for notification after first read&#xD;&#xD;                  var numCalls = 5;&#xD;                  var callNum = 0;&#xD;                  var value = -1;&#xD;&#xD;                  value = window.snapMicrobit.readAnalogPulsePinBlock(pin);&#xD;&#xD;                  //while ((value == -1) &amp;&amp; (callNum++ &lt; numCalls)) {&#xD;                  //   value = window.snapMicrobit.readPinBlock(pin);&#xD;                  //}&#xD;&#xD;                  return value;&#xD;                </l></block><list><block var="pin_num"/></list></block></block></script></block-definition><block-definition s="stop all" type="command" category="control"><header></header><code></code><translations>ko:ëª¨ë ë©ì¶ê¸°&#xD;de:stoppe alles&#xD;pt:pare todos&#xD;fr:stop tout&#xD;nl:stop alle&#xD;zh_CN:åæ­¢ å¨é¨&#xD;zh_TW:åæ­¢ å¨é¨&#xD;ar:ØªÙÙÙ Ø§ÙÙÙ&#xD;dk:stop alle&#xD;he:×××¤×¡××§ ×××&#xD;es:detener todo&#xD;ca:atura tot&#xD;fi:pysÃ¤ytÃ¤ kaikki&#xD;sv:stop allt&#xD;</translations><inputs></inputs><script><block s="doReport"><block s="reportURL"><block s="reportJoinWords"><list><l>http://127.0.0.1:30063/microbit/out/stopall</l></list></block></block></block></script></block-definition><block-definition s="micro:bit Print %&apos;string&apos;" type="command" category="looks"><header></header><code></code><translations>ko:micro:bit ì¶ë ¥ _&#xD;de:micro:bit Drucke _&#xD;pt:micro:bit Imprimir _&#xD;fr:micro:bit Imprimer _&#xD;nl:micro:bit Schrijf _&#xD;zh_CN:micro:bit æå° _&#xD;zh_TW:micro:bit æå° _&#xD;ar:micro:bit Ø·Ø¨Ø§Ø¹Ø© _&#xD;dk:micro:bit Vis _&#xD;he:micro:bit ×××¤×¡  _&#xD;es:micro:bit Imprimir _&#xD;ca:micro:bit Escriu _&#xD;fi:micro:bit NÃ¤ytÃ¤ teksti _&#xD;sv:micro:bit Visa text _&#xD;</translations><inputs><input type="%txt">Hello</input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>string</l></list><l>////////////////////////////////////////////////////////////////////////////////&#xD;// In order to avoid sending more messages than the app can handle, whenever we&#xD;// send a message we also save it in a persistent global variable. When the&#xD;// message is processed in the app, the callback checks if the global variable&#xD;// still matches what it was changed to. If it was, it deletes the global&#xD;// variable. Otherwise the message is resent with new data.&#xD;//&#xD;// When this block is called it checks if the global value has been set. If it&#xD;// has, it sends a message. Otherwise it just updates the value and lets the&#xD;// callback handle it.&#xD;&#xD;// Encode any special characters in the URL&#xD;string = encodeURIComponent(string);&#xD;&#xD;&#xD;// We can&apos;t run code beforehand to define values so we must check each block&#xD;// call if they are set.&#xD;if (window.birdbrain === undefined || window.birdbrain.printObj === undefined) {&#xD;    window.birdbrain = window.birdbrain || {};&#xD;    window.birdbrain.printObj = {&#xD;        // By attaching this function to a global variable, it is only&#xD;        // defined once instead of every time this block is called, improving&#xD;        // performance significantly.&#xD;        printString: function(string) {&#xD;            function callback() {&#xD;                if (window.birdbrain.printObj.stringToPrint === string) {&#xD;                    delete window.birdbrain.printObj.stringToPrint;&#xD;                }&#xD;                else {&#xD;                    window.birdbrain.printObj.printString(window.birdbrain.printObj.stringToPrint);&#xD;                }&#xD;            }&#xD;            /*&#xD;            var report = {&#xD;                message:"L".charCodeAt(0),&#xD;                port: port.toString().charCodeAt(0),&#xD;                intensity: intensity&#xD;            };&#xD;            chrome.runtime.sendMessage(hummingbirdAppID, report, callback);&#xD;            */&#xD;&#xD;            //Create a new XMLHttpRequest object&#xD;            var xhr = new XMLHttpRequest();&#xD;            var printURL = "http://127.0.0.1:30063/microbit/out/print/" + string;&#xD;            //console.log(printURL);&#xD;            xhr.open("GET", printURL, true);&#xD;            xhr.onload = function (e) {&#xD;              if (xhr.readyState === 4) {&#xD;                if (xhr.status === 200) {&#xD;                  callback();&#xD;                } else {&#xD;                  console.error(xhr.statusText);&#xD;                }&#xD;              }&#xD;            };&#xD;            xhr.onerror = function (e) {&#xD;              console.error(xhr.statusText);&#xD;            };&#xD;            xhr.send(null);&#xD;&#xD;        }&#xD;    }&#xD;}&#xD;&#xD;//TODO Turn &apos;/&apos; chars into % &#xD;&#xD;if (window.birdbrain.printObj.stringToPrint === undefined) {&#xD;  window.birdbrain.printObj.printString(string);&#xD;}&#xD;&#xD;window.birdbrain.printObj.stringToPrint = string;</l></block><list><block var="string"/></list></block><block s="doWait"><l>0</l></block></script></block-definition><block-definition s="read %&apos;level&apos; pulse on pin %&apos;pin_num&apos; Âµs" type="reporter" category="sensing"><header></header><code></code><translations></translations><inputs><input type="%s" readonly="true">high<options>high&#xD;low</options></input><input type="%s" readonly="true">0<options>0&#xD;1&#xD;2&#xD;3&#xD;4&#xD;5&#xD;6&#xD;7&#xD;8&#xD;9&#xD;10&#xD;11&#xD;13&#xD;14&#xD;15&#xD;16</options></input></inputs><script><block s="doIfElse"><block s="reportEquals"><block var="level"/><l>high</l></block><script><block s="doSetVar"><l>level</l><l>1</l></block></script><script><block s="doSetVar"><l>level</l><l>0</l></block></script></block><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>pin</l><l>level</l></list><l>&#xD;                  if (window.snapMicrobit.readDigitalPulsePinBlock === undefined) {&#xD;                    window.snapMicrobit.readDigitalPulsePinBlock = function (pin, level) {&#xD;                      let robot = "A";&#xD;                      var isDigital, isInput, isServo, isServoPulse, isAnalogPeriod, isDigitalPulse, digitalPulseLevel;&#xD;                      isDigital = isInput = isServo = isServoPulse = isAnalogPeriod = isDigitalPulse = digitalPulseLevel= 0; &#xD;&#xD;                      // Set Pin Config Here:&#xD;                      // Analog Pin, is an output:&#xD;                      isDigital = 1; // 0 is for analog mode&#xD;                      isInput = 1;  // 1 is for read&#xD;                      isDigitalPulse = 1; // Read the digital pulse  in microseconds&#xD;                      digitalPulseLevel = level;  // This is 0 or 1&#xD;&#xD;&#xD;&#xD;&#xD;                      // Check for first read here&#xD;                      if (window.snapMicrobit.isFirstRead(robot, pin, isDigital, isInput, isAnalogPeriod, isDigitalPulse, digitalPulseLevel))&#xD;                      {&#xD;                          //isDigital=0 and isOutput=1 means this is an analog read pin.&#xD;                          var thisCommand = {&#xD;                            robot: robot,&#xD;                            pin: pin,&#xD;                            value: digitalPulseLevel, // Value necessary to know which pulse to count i.e. high or low.&#xD;                            isDigital: isDigital,&#xD;                            isInput: isInput,&#xD;                            isServo: 0,&#xD;                            isServoPulse: 0,&#xD;                            isAnalogPeriod: 0,&#xD;                            isDigitalPulse: isDigitalPulse,&#xD;                            digitalPulseLevel: digitalPulseLevel&#xD;                          }&#xD;                            window.snapMicrobit.sendCommand(thisCommand);&#xD;                            return -1;&#xD;                      }&#xD;                      else {&#xD;                        var pinVal = window.snapMicrobit.pinToInt(robot, pin);&#xD;                        return pinVal &amp; 0xFFFF&#xD;                      }&#xD;                    }&#xD;                  }&#xD;&#xD;                  // TODO  this loop below doesn&apos;t work. Need to find another way to wait for notification after first read&#xD;&#xD;                  var numCalls = 5;&#xD;                  var callNum = 0;&#xD;                  var value = -1;&#xD;&#xD;                  value = window.snapMicrobit.readDigitalPulsePinBlock(pin, level);&#xD;&#xD;                  //while ((value == -1) &amp;&amp; (callNum++ &lt; numCalls)) {&#xD;                  //   value = window.snapMicrobit.readPinBlock(pin);&#xD;                  //}&#xD;&#xD;                  return value;&#xD;                </l></block><list><block var="pin_num"/><block var="level"/></list></block></block></script></block-definition><block-definition s="read Distance (cm) sensor on pin %&apos;echoPin&apos; set trigger on pin %&apos;triggerPin&apos;" type="reporter" category="sensing"><header></header><code></code><translations></translations><inputs><input type="%s" readonly="true">0<options>0&#xD;1&#xD;2&#xD;3&#xD;4&#xD;5&#xD;6&#xD;7&#xD;8&#xD;9&#xD;10&#xD;11&#xD;13&#xD;14&#xD;15&#xD;16</options></input><input type="%s" readonly="true">0<options>0&#xD;1&#xD;2&#xD;3&#xD;4&#xD;5&#xD;6&#xD;7&#xD;8&#xD;9&#xD;10&#xD;11&#xD;13&#xD;14&#xD;15&#xD;16</options></input></inputs><script><custom-block s="set digital pin %s to %s"><block var="triggerPin"/><l>1</l></custom-block><block s="doWait"><l>0.1</l></block><custom-block s="set digital pin %s to %s"><block var="triggerPin"/><l>0</l></custom-block><block s="doReport"><block s="reportRound"><block s="reportQuotient"><custom-block s="read %s pulse on pin %s Âµs"><l>high</l><block var="echoPin"/></custom-block><l>58</l></block></block></block></script></block-definition><block-definition s="microbitSnapSetup" type="command" category="other"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doRun"><block s="reportJSFunction"><list></list><l>&#xD;                  function setupSnapMicrobit() {&#xD;                    //console.log("Setting up global vars");&#xD;                    window.snapMicrobit = {};&#xD;                    window.snapMicrobit.notificationData = {};&#xD;                    window.snapMicrobit.notificationData.A = new Uint8Array(100).fill(0);&#xD;                    window.snapMicrobit.microbitIsV2 = {};&#xD;                    window.snapMicrobit.microbitIsV2.A = false;&#xD;                    window.snapMicrobit.robotType = {};&#xD;                    window.snapMicrobit.robotType.A = 3;&#xD;                    //  TODO If multiple micro:bits are supported, then servo and led will need robot letters as above.&#xD;                    window.snapMicrobit.servo = {};    &#xD;                    window.snapMicrobit.servo.position = {};&#xD;                    window.snapMicrobit.servo.rotation = {};&#xD;                    window.snapMicrobit.servo.position.lastValue = -1;&#xD;                    window.snapMicrobit.servo.rotation.lastValue = -101;&#xD;                    window.snapMicrobit.led = {};&#xD;                    window.snapMicrobit.led.enable = {};&#xD;                    window.snapMicrobit.led.enable.lastValue = -1;&#xD;                    window.snapMicrobit.led.matrix = {};&#xD;                    window.snapMicrobit.led.matrix.lastValue = 0;&#xD;&#xD;&#xD;                    //console.log("setting up message channel")&#xD;                    window.snapMicrobit.messageChannel = new MessageChannel();&#xD;                    window.snapMicrobit.messageChannel.port1.onmessage = function (e) {&#xD;                        //console.log("Snap: Got a message: ");&#xD;                        //console.log(e);&#xD;                        //console.log(e.data);&#xD;                        if (window.snapMicrobit.notificationData === undefined)&#xD;                          return;&#xD;                        if (e.data.newNotificationData != null &amp;&amp; e.data.robot != null) {&#xD;                          let robot = e.data.robot;&#xD;                          overlaySubArray(window.snapMicrobit.notificationData[robot], e.data.newNotificationData, e.data.frameNumber);&#xD;                          //console.log("New Notification Data for pin " + e.data.pin);&#xD;                          //console.log(window.snapMicrobit.notificationData[robot]);&#xD;                          window.snapMicrobit.robotType[robot] = e.data.robotType;&#xD;                          window.snapMicrobit.microbitIsV2[robot] = e.data.hasV2Microbit;&#xD;                        }&#xD;                    }&#xD;                    window.parent.postMessage("hello from snap", "*", [window.snapMicrobit.messageChannel.port2]);&#xD;&#xD;                    window.snapMicrobit.sendCommand = function(command) {&#xD;                      window.parent.postMessage(command, "*");&#xD;                    }&#xD;&#xD;                    //  Converts byte range 0 - 255 to -127 - 127 represented as a 32 bit signe int&#xD;                    function byteToSignedInt8 (byte) {&#xD;                      var sign = (byte &amp; (1 &lt;&lt; 7));&#xD;                      var value = byte &amp; 0x7F;&#xD;                      if (sign) { value  = byte | 0xFFFFFF00; }&#xD;                      return value;&#xD;                    }&#xD;&#xD;                    //  Converts byte range 0 - 255 to -127 - 127 represented as a 32 bit signe int&#xD;                    function byteToSignedInt16 (msb, lsb) {&#xD;                      var sign = msb &amp; (1 &lt;&lt; 7);&#xD;                      var value = (((msb &amp; 0xFF) &lt;&lt; 8) | (lsb &amp; 0xFF));&#xD;                      if (sign) {&#xD;                        value = 0xFFFF0000 | value;  // fill in most significant bits with 1&apos;s&#xD;                      }&#xD;                      return value;&#xD;                    }&#xD;&#xD;                    // 5 pins per frame,  5 frames,  25 "pins"&#xD;                    function getFrameNumberFromPin(pin) {&#xD;                      if (pin &lt; 5)&#xD;                        return 0;&#xD;                      if (pin &lt; 10)&#xD;                        return 1;&#xD;                      if (pin &lt; 15)&#xD;                        return 2;&#xD;                      if (pin &lt; 20)&#xD;                        return 3;&#xD;                      if (pin &lt; 25)&#xD;                        return 4;  &#xD;                    }&#xD;&#xD;&#xD;                    // overlay 20 byte frames on a 100 byte Uint8 array &#xD;                    function overlaySubArray(arr, subArr, frameNum) {&#xD;                      //console.log("Frame Number " + frameNum);&#xD;                      var start = frameNum * 20;&#xD;                      var stop  = start + 20;&#xD;                      var j = 0;&#xD;                      var i;&#xD;                      for (i = start; i &lt; stop; i++)&#xD;                        arr[i] = subArr[j++];&#xD;                    }&#xD;&#xD;                    window.snapMicrobit.getMicrobitAcceleration = function(axis, robot) {&#xD;                      let accVal = 0;&#xD;                      return (accVal);&#xD;                    }&#xD;&#xD;                    window.snapMicrobit.getDistance = function (robot) {&#xD;                      let distVal = 0;&#xD;                      return (distVal);&#xD;                    }&#xD;&#xD;                    function isDigitalPin ( pinData) {&#xD;                        // THis is little endian&#xD;                        //console.log("isDigitalPin: input =  " + pinData.toString(16));&#xD;                        //console.log((pinData &amp; 0x10000).toString(16));                        &#xD;                        return (pinData &amp; 0x10000) == 0x10000; // bit 16 0x10000 big endian&#xD;                    }&#xD;&#xD;                    function isInputPin ( pinData) {&#xD;                        // THis is little endian&#xD;                        //console.log("isInputPin: input =  " + pinData.toString(16));&#xD;                        //console.log((pinData &amp; 0x20000).toString(16));&#xD;                        return (pinData &amp; 0x20000) == 0x20000; // bit 17  0x20000&#xD;                    }&#xD;&#xD;                    function isAnalogPeriodPin ( pinData) {&#xD;                        // THis is little endian&#xD;                        return (pinData &amp; 0x100000) == 0x100000; // bit 20  0x100000&#xD;                    }&#xD;&#xD;                    function isDigitalPulsePin ( pinData) {&#xD;                        // THis is little endian&#xD;                        return (pinData &amp; 0x200000) == 0x200000; // bit 21  0x200000&#xD;                    }&#xD;&#xD;                    function isDigitalPulseHigh ( pinData) {&#xD;                        // THis is little endian&#xD;                        return (pinData &amp; 0x400000) == 0x400000; // bit 22  0x200000&#xD;                    }&#xD;&#xD;                    // Input is an int.&#xD;                    // Returns a reversed endian int.&#xD;                    function reverseIntEndian(i) {&#xD;                        return (i&amp;0xff)&lt;&lt;24 | (i&amp;0xff00)&lt;&lt;8 | (i&amp;0xff0000)&gt;&gt;8 | (i&gt;&gt;24)&amp;0xff;&#xD;                    }&#xD;&#xD;                    window.snapMicrobit.pinToInt = function(robot, pin) {&#xD;                      pin*=4;  // 4 bytes per pin&#xD;                      //console.log(window.snapMicrobit.notificationData[robot]);&#xD;                      //console.log(window.snapMicrobit.notificationData[robot][pin] +"  " + window.snapMicrobit.notificationData[robot][pin+1]+"  " + window.snapMicrobit.notificationData[robot][pin+2] +"  " + window.snapMicrobit.notificationData[robot][pin+3]);&#xD;                      var byteBuff = new Uint8Array([window.snapMicrobit.notificationData[robot][pin], window.snapMicrobit.notificationData[robot][pin+1], window.snapMicrobit.notificationData[robot][pin+2], window.snapMicrobit.notificationData[robot][pin+3]]);&#xD;                      var dataview = new DataView(byteBuff.buffer);&#xD;                      return dataview.getUint32(0);&#xD;                    }&#xD;&#xD;                    window.snapMicrobit.pinToInt32 = function(robot, pin) {&#xD;                      pin*=4;  // 4 bytes per pin&#xD;                      //console.log(window.snapMicrobit.notificationData[robot]);&#xD;                      //console.log(window.snapMicrobit.notificationData[robot][pin] +"  " + window.snapMicrobit.notificationData[robot][pin+1]+"  " + window.snapMicrobit.notificationData[robot][pin+2] +"  " + window.snapMicrobit.notificationData[robot][pin+3]);&#xD;                      var byteBuff = new Uint8Array([window.snapMicrobit.notificationData[robot][pin], window.snapMicrobit.notificationData[robot][pin+1], window.snapMicrobit.notificationData[robot][pin+2], window.snapMicrobit.notificationData[robot][pin+3]]);&#xD;                      var dataview = new DataView(byteBuff.buffer);&#xD;                      return dataview.getInt32(0);&#xD;                    }&#xD;&#xD;&#xD;                    window.snapMicrobit.isFirstRead  = function (robot, pin, isDigital, isInput, isAnalogPeriod, isDigitalPulse, digitalPulseLevel) {&#xD;                      var firstRead = false;&#xD;                      //console.log("isFirstRead() input pin = 0x" + pin.toString(16));&#xD;                      var pinVal = window.snapMicrobit.pinToInt(robot, pin);&#xD;                      //console.log("Value of pin: " + pin + ": 0x" + pinVal.toString(16));&#xD;                      //console.log("IsInputPin is " + isInputPin(pinVal));&#xD;                      //console.log("IsDigitalPin is " + isDigitalPin(pinVal));&#xD;                      //console.log("isDigital is " + isDigital);&#xD;                      //console.log("isInput is " + isInput);&#xD;                      //console.log((isDigitalPin(pinVal) &amp;&amp; (isDigital == 0)));&#xD;                      //console.log((!isDigitalPin(pinVal)) &amp;&amp; (isDigital == 1));&#xD;                      firstRead = (               (isDigitalPin(pinVal) &amp;&amp; (isDigital == 0)) || ((!isDigitalPin(pinVal)) &amp;&amp; (isDigital == 1)) &#xD;                                               || (isInputPin(pinVal) &amp;&amp; (isInput == 0)) || (!isInputPin(pinVal) &amp;&amp; (isInput == 1))&#xD;                                               || (isAnalogPeriodPin(pinVal) &amp;&amp; (isAnalogPeriod == 0)) || (!isAnalogPeriodPin(pinVal) &amp;&amp; (isAnalogPeriod == 1)) &#xD;                                               || (isDigitalPulsePin(pinVal) &amp;&amp; (isDigitalPulse == 0)) || (!isDigitalPulsePin(pinVal) &amp;&amp; (isDigitalPulse == 1)) &#xD;                                               || (isDigitalPulseHigh(pinVal) &amp;&amp; (digitalPulseLevel == 0)) || (!isDigitalPulseHigh(pinVal) &amp;&amp; (digitalPulseLevel == 1))            &#xD;                                  ); &#xD;                      //console.log("FirstRead returns " + firstRead);                      &#xD;                      return firstRead;&#xD;                    }&#xD;                  }  // end of setupSnapMicrobit&#xD;&#xD;&#xD;//window.snapMicrobit = undefined;&#xD;&#xD;                  let currentVersion = 1&#xD;                  //console.log("BirdBrain ready to set up");&#xD;                  if (window.snapMicrobit === undefined ||&#xD;                    window.snapMicrobit.version === undefined ||&#xD;                    window.snapMicrobit.version &lt; currentVersion) {&#xD;&#xD;                    setupSnapMicrobit()&#xD;                    window.snapMicrobit.version = currentVersion&#xD;                  } else {&#xD;                    //console.log("BirdBrain already set up");&#xD;                  }&#xD;                </l></block><list></list></block></script></block-definition></blocks><variables><variable name="pulseWidthus"><l>6980</l></variable><variable name="delay"><l>0.0742421875</l></variable><variable name="servoAngleDegrees"><l>77</l></variable><variable name="turnLevel"><l>76</l></variable><variable name="rotationSpeed"><l>52</l></variable><variable name="distance"><l>179</l></variable></variables></project>